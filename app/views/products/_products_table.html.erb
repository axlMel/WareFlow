<div class="w-full max-h-[80vh]">
  <table class="min-w-full table-fixed divide-y divide-gray-200">
    <% if @pagy.page == 1 %>
      <thead class="bg-gray-50 sticky top-0 z-10">
        <tr>
          <th class="w-12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
          <th class="w-64 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Producto</th>
          <th class="w-48 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categor√≠a</th>
          <th class="w-32 px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Precio</th>
          <th class="w-24 px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
          <th class="w-64 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Username</th>
          <th class="w-48 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>

    <% end %>

    <tbody class="bg-white">
      <% products.each do |product| %>
        <tr class="border-b border-gray-200">
          <td class="w-12 px-6 py-4 whitespace-nowrap text-left overflow-hidden truncate text-ellipsis"><%= product.id %></td>
          <td class="w-64 max-w-[16rem] px-6 py-4 whitespace-nowrap text-left overflow-hidden truncate text-ellipsis"><%= product.title %></td>
          <td class="w-48 px-6 py-4 whitespace-nowrap text-left"><%= product.category&.name %></td>
          <td class="w-32 px-6 py-4 whitespace-nowrap text-left"><%= number_to_currency(product.price, unit: "$", precision: 0) %></td>
          <td class="w-24 px-6 py-4 whitespace-nowrap text-center"><%= product.stock %></td>
          <td class="w-64 px-6 py-4 whitespace-nowrap text-left overflow-hidden truncate text-ellipsis"><%= product.user&.email %></td>
          <td class="w-48 px-6 py-4 whitespace-nowrap text-left">
            <%= link_to "Ver", product_path(product), class: "text-indigo-600 hover:text-indigo-900 mr-2", data: { turbo_frame: "modal" } %>
            <%= link_to 'Edit', edit_product_path(product), class: "text-indigo-600 hover:underline", data: { turbo_frame: "modal" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>