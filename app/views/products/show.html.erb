<%= turbo_frame_tag "modal" do %>
  <div class="p-6">
    <%= render "shared/modal" do %>
      <%= render partial: 'products/product_details', locals: { product: @product } %>

      <% if @product.owner? %>
        <div class="flex justify-between">
          <%= link_to 'Editar producto', edit_product_path(@product), class: "bg-cyan-500 hover:bg-cyan-600 text-white font-semibold px-4 py-2 rounded-xl shadow-sm" %>

          <%= link_to 'Eliminar producto', product_path(@product),
              data: { turbo_method: :delete, turbo_confirm: t('common.confirm') },
              class: "bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded-xl shadow-sm" %>
        </div>
      <% end %>

      <div class="text-sm text-gray-500">
        <%= link_to t('.view_more_products', username: @product.user.username), user_path(@product.user.username), class: "underline text-cyan-600 hover:text-cyan-800", data: { turbo: false } %>
      </div>

      <div>
        <%= render partial: 'favorite', locals: { product: @product } %>
      </div>

      <%= turbo_stream_from @product %>
    <% end %>
  </div>
<% end %>