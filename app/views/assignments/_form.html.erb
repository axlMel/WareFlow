<%= form_with(model: assignment, local: true, class: "space-y-4") do |form| %>
  <% if assignment.errors.any? %>
    <div class="bg-red-100 text-red-800 border border-red-300 p-4 rounded-xl shadow-sm">
      <h2 class="font-semibold mb-2">
        <%= pluralize(assignment.errors.count, "error") %> impidieron guardar la asignación:
      </h2>
      <ul class="list-disc list-inside text-sm">
        <% assignment.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :product_id, "Producto", class: "block text-sm font-semibold text-gray-700 mb-1" %>
    <%= form.collection_select :product_id, @products, :id, :title, {}, class: "w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring focus:ring-blue-300" %>
  </div>

  <div>
    <%= form.label :user_id, "Usuario", class: "block text-sm font-semibold text-gray-700 mb-1" %>
    <%= form.collection_select :user_id, @users, :id, :username, {}, class: "w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring focus:ring-blue-300" %>
  </div>

  <div>
    <%= form.label :quantity, "Cantidad", class: "block text-sm font-semibold text-gray-700 mb-1" %>
    <%= form.number_field :quantity, min: 1, class: "w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring focus:ring-blue-300" %>
  </div>


  <div class="pt-4 text-right">
    <%= form.submit assignment.new_record? ? "Crear asignación" : "Actualizar", class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-xl shadow-sm transition", data: { turbo_frame: "modal" } %>
  </div>
<% end %>
